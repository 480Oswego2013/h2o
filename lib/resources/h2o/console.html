<div class='container' style='margin: 0px auto'>
  <link rel="stylesheet" type="text/css" href="h2o/console.css">
  <div id="console"></div>
  <script src="jquery/jqconsole.min.js" type="text/javascript" charset="utf-8"></script>
  <script>
    $(function () {
      var jqconsole = $('#console').jqconsole('Welcome to the H\u2082O interactive repl\n', 'H\u2082O> ');
      var startPrompt = function () {
        // Start the prompt with history enabled.
        jqconsole.Prompt(true, function (input) {
          if( input ) {
            $.get('Exec',
              { expression: input, escape_nan : true },
              function (data, status, jqXHR) {
                if( data.error ) {
                  jqconsole.Write(data.error + '\n', 'jqconsole-error');
                } else {
                  jqconsole.Write(JSON.stringify(data) + '\n', 'jqconsole-output');
                }
                startPrompt();
              }
            );
          } else {
            startPrompt();
          }
        });
      };
      // Move to line start Ctrl+A.
      jqconsole.RegisterShortcut('A', function() {
        jqconsole.MoveToStart();
      });
      // Move to line start Ctrl+E.
      jqconsole.RegisterShortcut('E', function() {
        jqconsole.MoveToEnd();
      });
      // Delete to end of line
      jqconsole.RegisterShortcut('K', function() {
        jqconsole.SetPromptText(jqconsole.$prompt_left.text())
      });
      startPrompt();
    });
  </script>
</div>
